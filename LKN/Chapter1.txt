<!-- vim: set noexpandtab shiftwidth=4 wrap linebreak filetype=mediawiki: -->
{{#set: title=第1章: はじめに}}
{{Nav
|prev=LKN/Preface
|next=LKN/Chapter2
}}

= 第一章: はじめに =

700万行を超える巨大なコードベースを持つLinuxカーネルですが、これほど柔軟なオペレーティングシステムは他にありません。様々なシステムにあわせてチューニングが可能で、ラジコンのヘリコプターから携帯電話、世界のスーパーコンピュータの大多数などで動作しています。環境に合わせてカーネルをカスタマイズすることで、一般的なLinuxディストリビューションよりも早く軽量なものを作ることができます。本書ではカスタムのカーネルをいかにしてビルドするかを解説し、いろんな状況にあわせて使うであろうオプションやヒントを紹介します。

どんなLinuxディストリビューションも、ユーザのニーズにぴったりと合わせたカーネルを提供することはできていません。最近のディストリビューションはユーザに親切な設計のものが多く、あらゆるデバイスやサウンド、電源管理などに対応しています。ディストリビューションは大衆のニーズに合わせる必要があるのです。しかしおそらくあなたにはあなたのニーズがあり、ハードウェア構成が違ったりと、必ずしも大衆のニーズとは一致しません。また、カーネルの新しいバージョンが公開されたら、ディストリビューションに組み込まれて配布されるのを待たずすぐに使い出したいこともあるでしょう。

Linuxに関わる仕事をしていれば、いつかカーネルを自分でビルドしたり、今使っているカーネルのオプションを調整したりする必要が出てくると思います。本書はユーザの視点からカーネルを理解し、よくある変更をできるよう手助けします。

また、特に組み込みシステムや小さなフォームファクタを扱うときなどは、カーネルから機能を削除したいこともあるでしょう。

カーネルの内部動作について理解していれば細かい設定などがしやすくなりますが、それは本書の範囲外です。特定のオプションについて多少の説明をする程度です。そういった内容については{{Link|LKN/AppendixB}}の参考文献を参照してください。


== この本の読み方 ==

{{LKN/Trap | root権限でカーネルをコンフィギュアやビルドしてはいけません！}}

この警告は本書を読むにあたって最も重要なものです。本書で紹介するほとんどの手順 ― カーネルソースのダウンロード、展開、コンフィギュア、そしてビルド ― は一般権限のユーザで行うべきです。root権限で実行する必要があるのはインストールするための2、3のコマンドのみです。

Linuxカーネルのバグが原因で、root権限でのビルド中に ''/dev'' ディレクトリ内の特殊なファイルが削除されてしまうということがありました
<ref>周りの開発者は誰もroot権限でのビルドなどしていなかったので、修復するのに大変手間取りました。ビルドの段階で問題が起こっていることに気づいたのは数週間経ってからでした。何人かのお茶目なカーネル開発者は、今後もroot権限でビルドする人が出ないようにこのバグを残しておこうなどと言っていましたが、幸いなことに冷静な人の方が多く、このバグは修正されました。</ref>
。また、root権限でソースを展開すると不正なパーミッションが設定されてしまい、それに起因するビルドエラーなども起きやすくなります。

カーネルのソースコードは ''/usr/src/linux'' 配下に置いてはいけません。ここには現在のシステムライブラリがビルド対象としたカーネルが配置されているからです。また、''/usr/src'' ディレクトリ以下でカーネルの操作を行うのも問題の原因となりますので、システムに影響を与えないユーザディレクトリを使用すべきです。



<references/>

{{Nav
|prev=LKN/Preface
|next=LKN/Chapter2
}}
