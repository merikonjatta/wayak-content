<!-- vim: set noexpandtab shiftwidth=4 wrap linebreak filetype=mediawiki: -->
{{#set: title=第9章: 起動パラメータリファレンス}}
{{Nav
|prev=LKN/Chapter8
|next=LKN/Chapter10
}}

= 第9章: 起動パラメータリファレンス =

本章の内容の大部分はカーネル付属のコマンドラインオプションリファレンスに基づいています。このリファレンスはカーネル開発者によって書かれ、GPLで公開されています。

カーネルにオプションを渡して動作を変更させる方法は主に3つあります。

* カーネルのビルド時。本書の大半はこれについて書かれています。
* カーネルのブート時。GRUBやLILOなどのブートファイルからパラメータが渡されます。
* ランタイムに、''/proc''や''/sys''ディレクトリに書き込みます。

この章では2つ目の方法にフォーカスし、ブート時に与えれるオプションを概念的な分類に分けて説明します。特定のアーキテクチャーやデバイスに依存するいくつかのオプションは省きました。全オプションの網羅的なリストはカーネルソースの''Documentation/kernel-parameters.txt''ファイル、あるいは各アーキテクチャ用のドキュメンテーションを参照してください。

ここで紹介したオプションは必ずしも常に利用できるとは限りません。特定のサブシステムに依存するものが多いため、カーネルのコンフィギュレーションでそれらを有効にしていないと指定できないことになります。また、関連するハードウェアが存在する必要があります。

パラメータは全てCase-sensitiveです。

== モジュール固有のオプション ==

ここで紹介するオプションに加えて、カーネルに組み込みのモジュールについてもコマンドラインに渡すことができます。（もちろん、動的に読み込まれるモジュールはブート時にメモリ上に存在しないためパラメータを受け付けません。）モジュール用パラメータの指定は、「モジュール名.パラメータ名」となります。

例えば''usbcore''モジュールには''blinkenlights''というオプションを指定でき、これを使うと対応するUSB2.0ハブのLEDを点滅させられます（たまにはジョークも混ぜてくるのがカーネル開発者の素敵なところです）。このパラメータを動的にロードするには、
 $ '''modprobe usbcore blinkenlights=1'''
一方、''usbcore''モジュールがカーネルに組み込まれているなら、カーネル起動時に次のオプションを渡すことで同じ効果が実現できます。
 usbcore.blinkenlights=1
また、組み込みモジュールのオプションの大半は''/sys/module''ディレクトリの適切なファイルに書きこむことで動作中に変更できます。例えば''blinkenlights''オプションだと''/sys/module/usbcore/blinkenlights''ファイルです。


=== コンソールのオプション ===

これらのオプションは、カーネルのデバッグ及びエラー情報が表示される、コンソールもしくはカーネル・ログに関わるものです。

==== console ====

出力先コンソールデバイスとそのオプション。

<code>console=Options</code>

;tty''n''
: バーチャルコンソールデバイス''n''を使用する。
;tty''Sn''[,''options''],ttyUSB0[,''options'']
:  指定したシリアルポートを使用する。optionsは''bbbbpnf''という形式で指定する。''bbbb''はボーレート、''p''はパリティ（n, oまたはe）、''n''はビット数、''f''はフローコントロール（rでRTS、もしくは省略）。デフォルトは''9600n8''。
シリアルコンソールの使い方については''Documentation/serial-control.txt''を参照のこと。コンソールを利用したいがシリアルポートがない場合は''netconsole''オプションを参照のこと。
;uart,io,''addr''[,''options''],uart,mmio,''addr''[,''options'']
: ポーリング型のコンソールを8250/16550UARTで開始し、指定したI/OポートまたはMMIOアドレスを利用し、後にttySに切り替える。オプションの指定方法は前述のttySと同じ。



<references/>


{{Nav
|prev=LKN/Chapter8
|next=LKN/Chapter10
}}
